<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Infinite Universe Shooter</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>

    <aside id="gameHud" class="hud right hidden">
      <div class="panel">
        <h2>Ship Status</h2>
        <div class="status-row">
          <span>Lifeline</span>
          <div class="bar-wrap"><div id="lifeBar" class="bar life"></div></div>
          <span id="lifeText">3 / 3</span>
        </div>
        <div class="status-row">
          <span>Weapons</span>
          <div class="bar-wrap"><div id="weaponBar" class="bar weapon"></div></div>
          <span id="weaponText">40 / 40</span>
        </div>
        <div class="status-row">
          <span>Consecutive Hits</span>
          <span id="consecutiveText">0 / 3</span>
        </div>
      </div>

      <div class="panel score">
        <h2>Scorecard</h2>
        <p id="scoreText">0</p>
        <p class="sub">Asteroids destroyed: <span id="destroyedText">0</span></p>
        <p class="sub">Deep Space: <span id="deepSpaceText">0%</span></p>
        <div class="hud-controls">
          <button id="instructionsButton" type="button">Instructions</button>
          <button id="pauseButton" type="button">Pause</button>
          <button id="muteButton" type="button">Mute</button>
        </div>
      </div>
    </aside>

    <div id="startMenu" class="start-menu">
      <div class="start-card">
        <h1>Infinite Universe Shooter</h1>
        <p>Navigate deep space, survive hazards, and maximize your score.</p>
        <div class="start-actions">
          <button id="startGameButton" type="button">Start Game</button>
          <button id="readInstructionsButton" class="ghost" type="button">Read Instructions</button>
        </div>
        <details id="startInstructions" class="start-instructions">
          <summary>How to Play</summary>
          <ul data-instructions="desktop">
            <li>Move with <strong>WASD</strong> or <strong>Arrow Keys</strong>.</li>
            <li>Aim with mouse, shoot with <strong>Space</strong> or left-click.</li>
            <li><strong>Shift</strong> to boost, <strong>P</strong> to pause/resume, <strong>M</strong> to mute.</li>
            <li>Pass through <span class="life-dot"></span> ion clouds to heal + refill ammo.</li>
            <li>Collect purple shield orbs for a <strong>10s shield</strong> (blocks one asteroid hit).</li>
            <li>Shoot Centaur/Kuiper objects to spawn fragments; collect them for <strong>ammo boost</strong>.</li>
            <li>Wormholes teleport you and grant score bonus.</li>
            <li>Scoring: asteroid <strong>+2</strong> (combo multiplier at 3+ quick kills), near miss <strong>+3</strong>, comet <strong>+10</strong>, wormhole <strong>+25</strong>, white-hole slingshot <strong>+12</strong>, survive each minute <strong>+30</strong>.</li>
            <li>At 0 life or 3 consecutive hits, mission fails.</li>
          </ul>
          <ul data-instructions="mobile" class="hidden">
            <li>Rotate phone to <strong>landscape</strong> to play.</li>
            <li>Drag anywhere to move the ship (left/right/up/down).</li>
            <li>Tap anywhere to fire.</li>
            <li>Use on-screen <strong>Pause</strong>, <strong>Mute</strong>, and <strong>Instructions</strong> buttons.</li>
            <li>Pass through <span class="life-dot"></span> ion clouds to heal + refill ammo.</li>
            <li>Collect purple shield orbs for a <strong>10s shield</strong> (blocks one asteroid hit).</li>
            <li>Shoot Centaur/Kuiper objects to spawn fragments; collect them for <strong>ammo boost</strong>.</li>
            <li>Wormholes teleport you and grant score bonus.</li>
            <li>Scoring: asteroid <strong>+2</strong> (combo multiplier at 3+ quick kills), near miss <strong>+3</strong>, comet <strong>+10</strong>, wormhole <strong>+25</strong>, white-hole slingshot <strong>+12</strong>, survive each minute <strong>+30</strong>.</li>
            <li>At 0 life or 3 consecutive hits, mission fails.</li>
          </ul>
        </details>
      </div>
    </div>

    <div id="gameOver" class="overlay hidden">
      <div class="overlay-card">
        <h1>Mission Failed</h1>
        <p>Your ship could not survive the asteroid field.</p>
        <p>Final Score: <strong id="finalScore">0</strong></p>
        <button id="restartButton">Restart Mission</button>
      </div>
    </div>

    <div id="instructionsOverlay" class="overlay hidden">
      <div class="overlay-card instructions-card">
        <h1>Instructions</h1>
        <ul data-instructions="desktop">
          <li>Move with <strong>WASD</strong> or <strong>Arrow Keys</strong>.</li>
          <li>Aim with mouse, shoot with <strong>Space</strong> or left-click.</li>
          <li><strong>Shift</strong> to boost, <strong>P</strong> to pause/resume, <strong>M</strong> to mute.</li>
          <li>Pass through <span class="life-dot"></span> ion clouds to heal + refill ammo.</li>
          <li>Collect purple shield orbs for a <strong>10s shield</strong> (blocks one asteroid hit).</li>
          <li>Shoot Centaur/Kuiper objects to spawn fragments; collect them for <strong>ammo boost</strong>.</li>
          <li>Wormholes teleport you and grant score bonus.</li>
          <li>Scoring: asteroid <strong>+2</strong> (combo multiplier at 3+ quick kills), near miss <strong>+3</strong>, comet <strong>+10</strong>, wormhole <strong>+25</strong>, white-hole slingshot <strong>+12</strong>, survive each minute <strong>+30</strong>.</li>
          <li>At 0 life or 3 consecutive hits, mission fails.</li>
        </ul>
        <ul data-instructions="mobile" class="hidden">
          <li>Rotate phone to <strong>landscape</strong> to play.</li>
          <li>Drag anywhere to move the ship (left/right/up/down).</li>
          <li>Tap anywhere to fire.</li>
          <li>Use on-screen <strong>Pause</strong>, <strong>Mute</strong>, and <strong>Instructions</strong> buttons.</li>
          <li>Pass through <span class="life-dot"></span> ion clouds to heal + refill ammo.</li>
          <li>Collect purple shield orbs for a <strong>10s shield</strong> (blocks one asteroid hit).</li>
          <li>Shoot Centaur/Kuiper objects to spawn fragments; collect them for <strong>ammo boost</strong>.</li>
          <li>Wormholes teleport you and grant score bonus.</li>
          <li>Scoring: asteroid <strong>+2</strong> (combo multiplier at 3+ quick kills), near miss <strong>+3</strong>, comet <strong>+10</strong>, wormhole <strong>+25</strong>, white-hole slingshot <strong>+12</strong>, survive each minute <strong>+30</strong>.</li>
          <li>At 0 life or 3 consecutive hits, mission fails.</li>
        </ul>
        <button id="closeInstructionsButton" type="button">Resume Game</button>
      </div>
    </div>

    <div id="rotateNotice" class="overlay hidden">
      <div class="overlay-card">
        <h1>Rotate Device</h1>
        <p>Please rotate to landscape mode to play.</p>
      </div>
    </div>

    <script src="game.js"></script>
  </body>
</html>
